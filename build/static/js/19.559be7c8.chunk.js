(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[19],{1222:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var c,a,r=n(8),s=n(91),i=n(10),o=(n(0),n(5)),l=n(2),b=n(385),j=n(1),d=["background","children"],u=Object(o.e)(l.m)(c||(c=Object(i.a)(["\n  background: ",";\n"])),(function(e){var t=e.theme;return e.background||t.colors.gradients.bubblegum})),x=Object(o.e)(b.a)(a||(a=Object(i.a)(["\n  padding-top: 32px;\n  padding-bottom: 32px;\n"]))),p=function(e){var t=e.background,n=e.children,c=Object(s.a)(e,d);return Object(j.jsx)(u,Object(r.a)(Object(r.a)({background:t},c),{},{children:Object(j.jsx)(x,{children:n})}))}},1617:function(e,t,n){"use strict";n.r(t);var c,a,r,s,i,o,l,b,j,d,u,x,p,O,m,h,f,g=n(50),k=n(8),y=n(15),S=n(10),v=n(0),w=n.n(v),C=n(67),T=n(5),R=n(14),D=n.n(R),A=n(32),B=n(2),F=n(253),I=n.n(F),P=n(543),L=n.n(P),z=n(17),M=n(218),U=n(28),V=n(200),E=n(235),q=n(183),H=n(1222),N=n(407),Y=n(404),W=n(120),Q=n(24),X=n(34),G=n(198),J=n(42),_=n(61),K=n(20),$=n(1),Z=function(e){var t=e.pool,n=e.performanceFee,c=void 0===n?0:n,a=Object(z.b)().t,r=t.stakingToken,s=t.earningToken,i=t.isFinished,o=t.apr,l=t.earningTokenPrice,b=t.isAutoVault,j=a(b?"APY includes compounding, APR doesn\u2019t. This pool\u2019s FARM is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),d=Object(B.oc)(j,{placement:"bottom-start"}),u=d.targetRef,x=d.tooltip,p=d.tooltipVisible,O=Object(_.c)(t,c),m=O.apr,h=O.roundingDecimals,f=O.compoundFrequency,g=r.address&&"".concat(J.c,"/#/swap?outputCurrency=").concat(Object(K.a)(r.address)),k=Object(B.mc)(Object($.jsx)(G.a,{tokenPrice:l,apr:o,linkLabel:a("Get %symbol%",{symbol:r.symbol}),linkHref:g||J.c,earningTokenSymbol:s.symbol,roundingDecimals:h,compoundFrequency:f,performanceFee:c})),S=Object(y.a)(k,1)[0];return Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",children:[p&&x,Object($.jsx)(B.Yb,{ref:u,children:"".concat(a(b?"APY":"APR"),":")}),i||!o?Object($.jsx)(B.Ib,{width:"82px",height:"32px"}):Object($.jsxs)(B.R,{alignItems:"center",children:[Object($.jsx)(X.a,{fontSize:"16px",isDisabled:i,value:m,decimals:2,unit:"%",bold:!0}),Object($.jsx)(B.W,{onClick:S,variant:"text",scale:"sm",children:Object($.jsx)(B.t,{color:"textSubtle",width:"18px"})})]})]})},ee=Object(T.f)(c||(c=Object(S.a)(["\n  0% {\n    background-position: 50% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 50% 0%;\n  }\n"]))),te=Object(T.e)(B.u)(a||(a=Object(S.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n\n  ","\n\n  ","\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){var t=e.isPromoted,n=e.theme;return t?Object(T.d)(r||(r=Object(S.a)(["\n          background: linear-gradient(180deg, ",", ",");\n          padding: 1px 1px 3px 1px;\n          background-size: 400% 400%;\n        "])),n.colors.primaryBright,n.colors.secondary):"background: ".concat((function(e){return e.theme.card.background}),";")}),(function(e){var t=e.isPromoted;return t&&t.isDesktop&&Object(T.d)(s||(s=Object(S.a)(["\n      animation: "," 3s ease infinite;\n    "])),ee)}),(function(e){return e.theme.mediaQueries.sm})),ne=Object(T.e)(B.m)(i||(i=Object(S.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.radii.card})),ce=n(126),ae=n(23),re=n(197),se=n(141),ie=Object(T.e)(B.R)(o||(o=Object(S.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),oe=function(e){var t,n=e.pool,c=e.account,a=Object(z.b)().t,r=Object(U.b)().currentBlock,s=Object(U.c)(),i=s.totalCakeInVault,o=s.fees.performanceFee,l=n.stakingToken,b=n.earningToken,j=n.totalStaked,d=n.startBlock,u=n.endBlock,x=n.stakingLimit,p=n.contractAddress,O=n.sousId,m=n.isAutoVault,h=b.address?Object(K.a)(b.address):"",f=Object(K.a)(p),g=Object(K.g)(),k="".concat(J.d,"/images/tokens/").concat(h,".png"),y=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),S=0===O,v=Object(_.e)(n,r),w=v.shouldShowBlockCountdown,C=v.blocksUntilStart,T=v.blocksRemaining,R=v.hasPoolStarted,A=v.blocksToDisplay,F=Object(B.oc)(a("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),I=F.targetRef,P=F.tooltip,L=F.tooltipVisible,M=Object(B.oc)(a("Total amount of %symbol% staked in this pool",{symbol:l.symbol}),{placement:"bottom"}),V=M.targetRef,E=M.tooltip,q=M.tooltipVisible;return Object($.jsxs)(ie,{flexDirection:"column",children:[Object($.jsxs)(B.R,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object($.jsxs)(B.Sb,{small:!0,children:[a("Total staked"),":"]}),Object($.jsxs)(B.R,{alignItems:"flex-start",children:[j&&j.gte(0)?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{small:!0,value:function(){if(m)return Object(ae.f)(i,l.decimals);if(S){var e=new D.a(j).minus(i);return Object(ae.f)(e,l.decimals)}return Object(ae.f)(j,l.decimals)}(),decimals:0,unit:" ".concat(l.symbol)}),Object($.jsx)("span",{ref:V,children:Object($.jsx)(B.U,{color:"textSubtle",width:"20px",ml:"6px",mt:"4px"})})]}):Object($.jsx)(B.Ib,{width:"90px",height:"21px"}),q&&E]})]}),x&&x.gt(0)&&Object($.jsxs)(B.R,{mb:"2px",justifyContent:"space-between",children:[Object($.jsxs)(B.Sb,{small:!0,children:[a("Max. stake per user"),":"]}),Object($.jsx)(B.Sb,{small:!0,children:"".concat(Object(ae.i)(x,l.decimals,0)," ").concat(l.symbol)})]}),w&&Object($.jsxs)(B.R,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object($.jsxs)(B.Sb,{small:!0,children:[a(R?"Ends in":"Starts in"),":"]}),T||C?Object($.jsx)(B.R,{alignItems:"center",children:Object($.jsxs)(B.cb,{external:!0,href:Object(se.b)(R?u:d),children:[Object($.jsx)(X.a,{small:!0,value:A,decimals:0,color:"primary"}),Object($.jsx)(B.Sb,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:a("Blocks")}),Object($.jsx)(B.Ub,{ml:"4px",color:"primary"})]})}):Object($.jsx)(B.Ib,{width:"54px",height:"21px"})]}),m&&Object($.jsxs)(B.R,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[L&&P,Object($.jsx)(B.Yb,{ref:I,small:!0,children:a("Performance Fee")}),Object($.jsx)(B.R,{alignItems:"center",children:Object($.jsxs)(B.Sb,{ml:"4px",small:!0,children:[o/100,"%"]})})]}),Object($.jsx)(B.R,{mb:"2px",justifyContent:"flex-end",children:Object($.jsx)(B.db,{href:"https://pancakeswap.info/token/".concat(Object(K.a)(b.address)),bold:!1,small:!0,children:a("See Token Info")})}),Object($.jsx)(B.R,{mb:"2px",justifyContent:"flex-end",children:Object($.jsx)(B.db,{href:b.projectLink,bold:!1,small:!0,children:a("View Project Site")})}),f&&Object($.jsx)(B.R,{mb:"2px",justifyContent:"flex-end",children:Object($.jsx)(B.db,{href:"".concat(J.b,"/address/").concat(m?g:f),bold:!1,small:!0,children:a("View Contract")})}),c&&y&&h&&Object($.jsx)(B.R,{justifyContent:"flex-end",children:Object($.jsxs)(B.q,{variant:"text",p:"0",height:"auto",onClick:function(){return Object(re.a)(h,b.symbol,b.decimals,k)},children:[Object($.jsx)(B.Sb,{color:"primary",fontSize:"14px",children:a("Add to Metamask")}),Object($.jsx)(B.nb,{ml:"4px"})]})})]})},le=w.a.memo(oe),be=Object(T.e)(B.R)(l||(l=Object(S.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),je=function(e){var t=e.pool,n=e.account,c=t.isAutoVault,a=Object(z.b)().t,r=Object(v.useState)(!1),s=Object(y.a)(r,2),i=s[0],o=s[1],l=a("You must harvest and compound your earnings from this pool manually."),b=a("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),j=Object(B.oc)(c?b:l,{placement:"bottom"}),d=j.targetRef,u=j.tooltip,x=j.tooltipVisible;return Object($.jsxs)(B.w,{children:[Object($.jsxs)(be,{children:[Object($.jsxs)(B.R,{alignItems:"center",children:[c?Object($.jsx)(ce.c,{}):Object($.jsx)(ce.f,{}),x&&u,Object($.jsx)(B.R,{ref:d,children:Object($.jsx)(B.U,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object($.jsx)(B.P,{expanded:i,onClick:function(){return o(!i)},children:a(i?"Hide":"Details")})]}),i&&Object($.jsx)(le,{pool:t,account:n})]})},de=n(194),ue=n(69),xe=function(e){var t="/images/tokens/".concat(Object(K.a)(ue.a.cake.address),".svg");return Object($.jsx)(B.Xb,Object(k.a)({primarySrc:t,secondarySrc:"/images/tokens/autorenew.svg"},e))},pe=Object(T.e)(B.x)(b||(b=Object(S.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.isFinished,n=e.background,c=e.theme;return t?c.colors.backgroundDisabled:c.colors.gradients[n]}),(function(e){var t=e.theme;return"".concat(t.radii.card," ").concat(t.radii.card," 0 0")})),Oe=function(e){var t=e.earningToken,n=e.stakingToken,c=e.isFinished,a=void 0!==c&&c,r=e.isAutoVault,s=void 0!==r&&r,i=e.isStaking,o=void 0!==i&&i,l=Object(z.b)().t,b="FARM"===t.symbol&&"FARM"===n.symbol,j=o?"bubblegum":"cardHeader";return Object($.jsx)(pe,{isFinished:a,background:j,children:Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",children:[Object($.jsxs)(B.R,{flexDirection:"column",children:[Object($.jsx)(B.T,{color:a?"textDisabled":"body",scale:"lg",children:"".concat(l(s?"Auto":b?"Manual":"Earn")," ").concat(t.symbol)}),Object($.jsx)(B.Sb,{color:a?"textDisabled":"textSubtle",children:s?l("Automatic restaking"):b?l("Earn FARM, stake FARM"):l("Stake %symbol%",{symbol:n.symbol})})]}),s?Object($.jsx)(xe,{width:64,height:64}):Object($.jsx)(de.a,{primaryToken:t,secondaryToken:n,width:64,height:64})]})})},me=n(39),he=n(51),fe=n(3),ge=n.n(fe),ke=n(12),ye=n(52),Se=n(55),ve=n(74),we=n(66),Ce=n(386),Te=function(e,t,n){var c=Object(v.useState)(!1),a=Object(y.a)(c,2),r=a[0],s=a[1],i=Object(we.a)(),o=i.toastSuccess,l=i.toastError,b=Object(z.b)().t,j=Object(Se.b)(),d=Object(A.c)().account,u=Object(he.o)(t);return{handleApprove:Object(v.useCallback)(Object(ke.a)(ge.a.mark((function c(){var a,r;return ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s(!0),c.next=4,e.approve(u.address,ye.a.constants.MaxUint256);case 4:return a=c.sent,c.next=7,a.wait();case 7:r=c.sent,j(Object(ve.h)(t,d)),r.status?(o(b("Contract Enabled"),b("You can now stake in the %symbol% pool!",{symbol:n})),s(!1)):(l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),s(!1)),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(0),console.error(c.t0),l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return c.stop()}}),c,null,[[0,12]])}))),[d,j,e,u,t,n,b,l,o]),requestedApproval:r}},Re=function(e){var t=Object(v.useState)(!1),n=Object(y.a)(t,2),c=n[0],a=n[1],r=Object(z.b)().t,s=Object(we.a)(),i=s.toastSuccess,o=s.toastError,l=Object(he.c)(),b=Object(he.b)();return{handleApprove:function(){var t=Object(ke.a)(ge.a.mark((function t(){var n;return ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.approve(l.address,ye.a.constants.MaxUint256);case 2:return n=t.sent,a(!0),t.next=6,n.wait();case 6:t.sent.status?(i(r("Contract Enabled"),r("You can now stake in the %symbol% vault!",{symbol:"FARM"})),e(),a(!1)):(o(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),a(!1));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),requestedApproval:c}},De=function(){var e=Object(v.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(A.c)().account,r=Object(he.b)(),s=Object(he.c)(),i=Object(Ce.a)(),o=i.lastUpdated,l=i.setLastUpdated;return Object(v.useEffect)((function(){(function(){var e=Object(ke.a)(ge.a.mark((function e(){var t,n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.allowance(a,s.address);case 3:t=e.sent,n=new D.a(t.toString()),c(n.gt(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[a,r,s,o]),{isVaultApproved:n,setLastUpdated:l}},Ae=function(e){var t=e.pool,n=e.isLoading,c=void 0!==n&&n,a=t.sousId,r=t.stakingToken,s=t.earningToken,i=Object(z.b)().t,o=Object(he.e)(r.address?Object(K.a)(r.address):""),l=Te(o,a,s.symbol),b=l.handleApprove,j=l.requestedApproval;return Object($.jsx)($.Fragment,{children:c?Object($.jsx)(B.Ib,{width:"100%",height:"52px"}):Object($.jsx)(B.q,{isLoading:j,endIcon:j?Object($.jsx)(B.g,{spin:!0,color:"currentColor"}):null,disabled:j,onClick:b,width:"100%",children:i("Enable")})})},Be=n(104),Fe=Object(T.e)(B.cb)(j||(j=Object(S.a)(["\n  width: 100%;\n"]))),Ie=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(z.b)().t,a=Object(Be.a)().theme;return Object($.jsxs)(B.pb,{title:c("%symbol% required",{symbol:t}),onDismiss:n,headerBackground:a.colors.gradients.cardHeader,children:[Object($.jsx)(B.Sb,{color:"failure",bold:!0,children:c("Insufficient %symbol% balance",{symbol:t})}),Object($.jsx)(B.Sb,{mt:"24px",children:c("You\u2019ll need %symbol% to stake in this pool!",{symbol:t})}),Object($.jsx)(B.Sb,{children:c("Buy some %symbol%, or make sure your %symbol% isn\u2019t in another pool or LP.",{symbol:t})}),Object($.jsxs)(B.q,{mt:"24px",as:"a",external:!0,href:J.c,children:[c("Buy")," ",t]}),Object($.jsx)(Fe,{href:"https://yieldwatch.net",external:!0,children:Object($.jsxs)(B.q,{variant:"secondary",mt:"8px",width:"100%",children:[c("Locate Assets"),Object($.jsx)(B.yb,{color:"primary",ml:"4px"})]})}),Object($.jsx)(B.q,{variant:"text",onClick:n,children:c("Close Window")})]})},Pe=Object(T.e)(B.q)(d||(d=Object(S.a)(["\n  flex-grow: 1;\n"]))),Le=function(e){var t=e.children,n=e.onClick;return Object($.jsx)(Pe,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},ze=n(95),Me={gasLimit:J.h},Ue=function(){var e=Object(ke.a)(ge.a.mark((function e(t,n){var c,a,r,s=arguments;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]?s[2]:18,e.next=3,t.deposit(new D.a(n).times(Q.c.pow(c)).toString(),Me);case 3:return a=e.sent,e.next=6,a.wait();case 6:return r=e.sent,e.abrupt("return",r.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(ke.a)(ge.a.mark((function e(t,n){var c,a;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(new D.a(n).times(J.i).toString(),Me);case 2:return c=e.sent,e.next=5,c.wait();case 5:return a=e.sent,e.abrupt("return",a.status);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(Se.b)(),c=Object(A.c)(),a=c.account,r=Object(he.k)(),s=Object(he.o)(e),i=Object(v.useCallback)(function(){var c=Object(ke.a)(ge.a.mark((function c(i,o){return ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(ze.d)(r,0,i);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Ve(s,i);case 8:c.next=12;break;case 10:return c.next=12,Ue(s,i,o);case 12:n(Object(ve.k)(e,a)),n(Object(ve.i)(e,a));case 14:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,r,s,e]);return{onStake:i}},qe=function(){var e=Object(ke.a)(ge.a.mark((function e(t,n,c){var a,r;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.withdraw(new D.a(n).times(Q.c.pow(c)).toString());case 2:return a=e.sent,e.next=5,a.wait();case 5:return r=e.sent,e.abrupt("return",r.status);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),He=function(){var e=Object(ke.a)(ge.a.mark((function e(t){var n,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.emergencyWithdraw();case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(Se.b)(),c=Object(A.c)(),a=c.account,r=Object(he.k)(),s=Object(he.o)(e),i=Object(v.useCallback)(function(){var c=Object(ke.a)(ge.a.mark((function c(i,o){return ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(ze.e)(r,0,i);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,He(s);case 8:c.next=12;break;case 10:return c.next=12,qe(s,i,o);case 12:n(Object(ve.k)(e,a)),n(Object(ve.i)(e,a)),n(Object(ve.j)(e,a));case 15:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,r,s,e]);return{onUnstake:i}},Ye=Object(T.e)(B.cb)(u||(u=Object(S.a)(["\n  width: 100%;\n"]))),We=function(e){var t=e.isBnbPool,n=e.pool,c=e.stakingTokenBalance,a=e.stakingTokenPrice,r=e.isRemovingStake,s=void 0!==r&&r,i=e.onDismiss,o=n.sousId,l=n.stakingToken,b=n.userData,j=n.stakingLimit,d=n.earningToken,u=Object(z.b)().t,x=Object(Be.a)().theme,p=Ee(o,t).onStake,O=Ne(o,n.enableEmergencyWithdraw).onUnstake,m=Object(we.a)(),h=m.toastSuccess,f=m.toastError,g=Object(v.useState)(!1),k=Object(y.a)(g,2),S=k[0],w=k[1],C=Object(v.useState)(""),T=Object(y.a)(C,2),R=T[0],A=T[1],F=Object(v.useState)(!1),I=Object(y.a)(F,2),P=I[0],L=I[1],M=Object(v.useState)(0),U=Object(y.a)(M,2),V=U[0],E=U[1],q=function(){return s?b.stakedBalance:j.gt(0)&&c.gt(j)?j:c},H=R&&Object(ae.d)(new D.a(R).times(a).toNumber());Object(v.useEffect)((function(){if(j.gt(0)&&!s){var e=Object(ae.h)(new D.a(R),l.decimals);L(e.plus(b.stakedBalance).gt(j))}}),[R,j,b,l,s,L]);var N=function(e){if(e>0){var t=q().dividedBy(100).multipliedBy(e),n=Object(ae.i)(t,l.decimals,l.decimals);A(n)}else A("");E(e)},Y=function(){var e=Object(ke.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!s){e.next=16;break}return e.prev=2,e.next=5,O(R,l.decimals);case 5:h("".concat(u("Unstaked"),"!"),u("Your %symbol% earnings have also been harvested to your wallet!",{symbol:d.symbol})),w(!1),i(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),f(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),w(!1);case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,p(R,l.decimals);case 19:h("".concat(u("Staked"),"!"),u("Your %symbol% funds have been staked in the pool!",{symbol:l.symbol})),w(!1),i(),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(16),f(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),w(!1);case 28:case"end":return e.stop()}}),e,null,[[2,10],[16,24]])})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)(B.pb,{title:u(s?"Unstake":"Stake in Pool"),onDismiss:i,headerBackground:x.colors.gradients.cardHeader,children:[j.gt(0)&&!s&&Object($.jsx)(B.Sb,{color:"secondary",bold:!0,mb:"24px",style:{textAlign:"center"},fontSize:"16px",children:u("Max stake for this pool: %amount% %token%",{amount:Object(ae.i)(j,l.decimals,0),token:l.symbol})}),Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object($.jsxs)(B.Sb,{bold:!0,children:[u(s?"Unstake":"Stake"),":"]}),Object($.jsxs)(B.R,{alignItems:"center",minWidth:"70px",children:[Object($.jsx)(B.X,{src:"/images/tokens/".concat(Object(K.a)(l.address),".png"),width:24,height:24,alt:l.symbol}),Object($.jsx)(B.Sb,{ml:"4px",bold:!0,children:l.symbol})]})]}),Object($.jsx)(B.h,{value:R,onUserInput:function(e){if(e){var t=Object(ae.h)(new D.a(e),l.decimals),n=Math.floor(t.dividedBy(q()).multipliedBy(100).toNumber());E(Math.min(n,100))}else E(0);A(e)},currencyValue:0!==a&&"~".concat(H||0," USD"),isWarning:P,decimals:l.decimals}),P&&Object($.jsx)(B.Sb,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:u("Maximum total stake: %amount% %token%",{amount:Object(ae.i)(new D.a(j),l.decimals,0),token:l.symbol})}),Object($.jsx)(B.Sb,{ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:u("Balance: %balance%",{balance:Object(ae.i)(q(),l.decimals)})}),Object($.jsx)(B.Jb,{min:0,max:100,value:V,onValueChanged:N,name:"stake",valueLabel:"".concat(V,"%"),step:1}),Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object($.jsx)(Le,{onClick:function(){return N(25)},children:"25%"}),Object($.jsx)(Le,{onClick:function(){return N(50)},children:"50%"}),Object($.jsx)(Le,{onClick:function(){return N(75)},children:"75%"}),Object($.jsx)(Le,{onClick:function(){return N(100)},children:u("Max")})]}),Object($.jsx)(B.q,{isLoading:S,endIcon:S?Object($.jsx)(B.g,{spin:!0,color:"currentColor"}):null,onClick:Y,disabled:!R||0===parseFloat(R)||P,mt:"24px",children:u(S?"Confirming":"Confirm")}),!s&&Object($.jsx)(Ye,{external:!0,href:J.c,children:Object($.jsx)(B.q,{width:"100%",mt:"8px",variant:"secondary",children:u("Get %symbol%",{symbol:l.symbol})})})]})},Qe=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakedBalance,a=e.isBnbPool,r=e.isStaked,s=e.isLoading,i=void 0!==s&&s,o=t.stakingToken,l=t.stakingTokenPrice,b=t.stakingLimit,j=t.isFinished,d=t.userData,u=Object(z.b)().t,x=Object(ae.f)(c,o.decimals),p=Object(ae.f)(c.multipliedBy(l),o.decimals),O=Object(B.mc)(Object($.jsx)(Ie,{tokenSymbol:o.symbol})),m=Object(y.a)(O,1)[0],h=Object(B.mc)(Object($.jsx)(We,{isBnbPool:a,pool:t,stakingTokenBalance:n,stakingTokenPrice:l})),f=Object(y.a)(h,1)[0],g=Object(B.mc)(Object($.jsx)(We,{stakingTokenBalance:n,isBnbPool:a,pool:t,stakingTokenPrice:l,isRemovingStake:!0})),k=Object(y.a)(g,1)[0],S=Object(B.oc)(u("You\u2019ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),v=S.targetRef,w=S.tooltip,C=S.tooltipVisible,T=b.gt(0)&&d.stakedBalance.gte(b);return Object($.jsx)(B.R,{flexDirection:"column",children:i?Object($.jsx)(B.Ib,{width:"100%",height:"52px"}):r?Object($.jsxs)(B.R,{justifyContent:"space-between",alignItems:"center",children:[Object($.jsx)(B.R,{flexDirection:"column",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{bold:!0,fontSize:"20px",decimals:3,value:x}),0!==l&&Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",children:Object($.jsx)(X.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:p,prefix:"~",unit:" USD"})})]})}),Object($.jsxs)(B.R,{children:[Object($.jsx)(B.W,{variant:"secondary",onClick:k,mr:"6px",children:Object($.jsx)(B.ob,{color:"primary",width:"24px"})}),T?Object($.jsx)("span",{ref:v,children:Object($.jsx)(B.W,{variant:"secondary",disabled:!0,children:Object($.jsx)(B.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object($.jsx)(B.W,{variant:"secondary",onClick:n.gt(0)?f:m,disabled:j,children:Object($.jsx)(B.a,{color:"primary",width:"24px",height:"24px"})})]}),C&&w]}):Object($.jsx)(B.q,{disabled:j,onClick:n.gt(0)?f:m,children:u("Stake")})})},Xe={gasLimit:J.h},Ge=function(){var e=Object(ke.a)(ge.a.mark((function e(t){var n,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit("0",Xe);case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(ke.a)(ge.a.mark((function e(t){var n,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(Object(k.a)(Object(k.a)({},Xe),{},{value:Q.d}));case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(Se.b)(),c=Object(A.c)(),a=c.account,r=Object(he.o)(e),s=Object(he.k)(),i=Object(v.useCallback)(Object(ke.a)(ge.a.mark((function c(){return ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(ze.c)(s,0);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Je(r);case 8:c.next=12;break;case 10:return c.next=12,Ge(r);case 12:n(Object(ve.j)(e,a)),n(Object(ve.i)(e,a));case 14:case"end":return c.stop()}}),c)}))),[a,n,t,s,r,e]);return{onReward:i}},Ke=function(e){var t=e.formattedBalance,n=e.fullBalance,c=e.earningToken,a=e.earningsDollarValue,r=e.sousId,s=e.isBnbPool,i=e.isCompoundPool,o=void 0!==i&&i,l=e.onDismiss,b=Object(z.b)().t,j=Object(Be.a)().theme,d=Object(we.a)(),u=d.toastSuccess,x=d.toastError,p=_e(r,s).onReward,O=Ee(r,s).onStake,m=Object(v.useState)(!1),h=Object(y.a)(m,2),f=h[0],g=h[1],k=Object(v.useState)(o),S=Object(y.a)(k,2),w=S[0],C=S[1],T=Object(B.oc)(Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.Sb,{mb:"12px",children:b("Compound: collect and restake FARM into pool.")}),Object($.jsx)(B.Sb,{children:b("Harvest: collect FARM and send to wallet")})]}),{placement:"bottom-end",tooltipOffset:[20,10]}),R=T.targetRef,D=T.tooltip,A=T.tooltipVisible,F=function(){var e=Object(ke.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),!w){e.next=17;break}return e.prev=2,e.next=5,O(n,c.decimals);case 5:u("".concat(b("Compounded"),"!"),b("Your %symbol% earnings have been re-invested into the pool!",{symbol:c.symbol})),g(!1),l(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),x(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0),g(!1);case 15:e.next=30;break;case 17:return e.prev=17,e.next=20,p();case 20:u("".concat(b("Harvested"),"!"),b("Your %symbol% earnings have been sent to your wallet!",{symbol:c.symbol})),g(!1),l(),e.next=30;break;case 25:e.prev=25,e.t1=e.catch(17),x(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t1),g(!1);case 30:case"end":return e.stop()}}),e,null,[[2,10],[17,25]])})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)(B.pb,{title:"".concat(c.symbol," ").concat(b(o?"Collect":"Harvest")),onDismiss:l,headerBackground:j.colors.gradients.cardHeader,children:[o&&Object($.jsxs)(B.R,{justifyContent:"center",alignItems:"center",mb:"24px",children:[Object($.jsxs)(B.r,{activeIndex:w?0:1,scale:"sm",variant:"subtle",onItemClick:function(e){return C(!e)},children:[Object($.jsx)(B.s,{as:"button",children:b("Compound")}),Object($.jsx)(B.s,{as:"button",children:b("Harvest")})]}),Object($.jsx)(B.R,{ml:"10px",ref:R,children:Object($.jsx)(B.U,{color:"textSubtle"})}),A&&D]}),Object($.jsxs)(B.R,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object($.jsxs)(B.Sb,{children:[b(w?"Compounding":"Harvesting"),":"]}),Object($.jsxs)(B.R,{flexDirection:"column",children:[Object($.jsxs)(B.T,{children:[t," ",c.symbol]}),a>0&&Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",children:"~".concat(Object(ae.d)(a)," USD")})]})]}),Object($.jsx)(B.q,{mt:"8px",onClick:F,isLoading:f,endIcon:f?Object($.jsx)(B.g,{spin:!0,color:"currentColor"}):null,children:b(f?"Confirming":"Confirm")}),Object($.jsx)(B.q,{variant:"text",onClick:l,pb:"0px",children:b("Close Window")})]})},$e=function(e){var t=e.earnings,n=e.earningToken,c=e.sousId,a=e.isBnbPool,r=e.earningTokenPrice,s=e.isLoading,i=void 0!==s&&s,o=Object(z.b)().t,l=Object(ae.f)(t,n.decimals),b=Object(ae.d)(l,3,3),j=Object(ae.f)(t.multipliedBy(r),n.decimals),d=Object(ae.i)(t,n.decimals),u=t.toNumber()>0,x=0===c,p=Object(B.mc)(Object($.jsx)(Ke,{formattedBalance:b,fullBalance:d,earningToken:n,earningsDollarValue:j,sousId:c,isBnbPool:a,isCompoundPool:x})),O=Object(y.a)(p,1)[0];return Object($.jsxs)(B.R,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[Object($.jsx)(B.R,{flexDirection:"column",children:i?Object($.jsx)(B.Ib,{width:"80px",height:"48px"}):Object($.jsx)($.Fragment,{children:u?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{bold:!0,fontSize:"20px",decimals:5,value:l}),r>0&&Object($.jsx)(X.a,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:j,unit:" USD"})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.T,{color:"textDisabled",children:"0"}),Object($.jsx)(B.Sb,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),Object($.jsx)(B.q,{disabled:!u,onClick:O,children:o(x?"Collect":"Harvest")})]})},Ze=Object(T.e)(B.Sb)(x||(x=Object(S.a)(["\n  display: inline;\n"]))),et=function(e){var t=e.pool,n=e.stakedBalance,c=t.sousId,a=t.stakingToken,r=t.earningToken,s=t.harvest,i=t.poolCategory,o=t.userData,l=t.earningTokenPrice,b=i===me.c.BINANCE,j=Object(z.b)().t,d=(null===o||void 0===o?void 0:o.allowance)?new D.a(o.allowance):Q.d,u=(null===o||void 0===o?void 0:o.stakingTokenBalance)?new D.a(o.stakingTokenBalance):Q.d,x=(null===o||void 0===o?void 0:o.pendingReward)?new D.a(o.pendingReward):Q.d,p=!d.gt(0)&&!b,O=n.gt(0),m=!o;return Object($.jsx)(B.R,{flexDirection:"column",children:Object($.jsxs)(B.R,{flexDirection:"column",children:[s&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(B.m,{display:"inline",children:[Object($.jsx)(Ze,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(r.symbol," ")}),Object($.jsx)(Ze,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:j("Earned")})]}),Object($.jsx)($e,{earnings:x,earningToken:r,sousId:c,earningTokenPrice:l,isBnbPool:b,isLoading:m})]}),Object($.jsxs)(B.m,{display:"inline",children:[Object($.jsxs)(Ze,{color:O?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[O?a.symbol:j("Stake")," "]}),Object($.jsx)(Ze,{color:O?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:O?j("Staked"):"".concat(a.symbol)})]}),p?Object($.jsx)(Ae,{pool:t,isLoading:m}):Object($.jsx)(Qe,{isLoading:m,pool:t,stakingTokenBalance:u,stakedBalance:n,isBnbPool:b,isStaked:O})]})})},tt=function(e){var t=e.pool,n=e.account,c=t.sousId,a=t.stakingToken,r=t.earningToken,s=t.isFinished,i=t.userData,o=Object(z.b)().t,l=(null===i||void 0===i?void 0:i.stakedBalance)?new D.a(i.stakedBalance):Q.d,b=l.gt(0);return Object($.jsx)(te,{isFinished:s&&0!==c,ribbon:s&&Object($.jsx)(B.y,{variantColor:"textDisabled",text:o("Finished")}),children:Object($.jsxs)(ne,{children:[Object($.jsx)(Oe,{isStaking:b,earningToken:r,stakingToken:a,isFinished:s&&0!==c}),Object($.jsxs)(B.v,{children:[Object($.jsx)(Z,{pool:t}),Object($.jsx)(B.R,{mt:"24px",flexDirection:"column",children:n?Object($.jsx)(et,{pool:t,stakedBalance:l}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.Sb,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:o("Start earning")}),Object($.jsx)(W.a,{})]})})]}),Object($.jsx)(je,{pool:t,account:n})]})})},nt=function(e){var t=e.isLoading,n=void 0!==t&&t,c=e.setLastUpdated,a=Object(z.b)().t,r=Re(c),s=r.handleApprove,i=r.requestedApproval;return Object($.jsx)($.Fragment,{children:n?Object($.jsx)(B.Ib,{width:"100%",height:"52px"}):Object($.jsx)(B.q,{isLoading:i,endIcon:i?Object($.jsx)(B.g,{spin:!0,color:"currentColor"}):null,disabled:i,onClick:s,width:"100%",children:a("Enable")})})},ct=n(275),at=n(80),rt=n(110),st=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Object(ae.f)(t,n),r=new D.a(e.multipliedBy(a)),s=Object(ae.f)(r,n),i=Object(ae.h)(new D.a(s),n),o=Object(ae.i)(r,n,c);return{cakeAsNumberBalance:s,cakeAsBigNumber:i,cakeAsDisplayBalance:o}},it=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Object(ae.f)(t,n),r=new D.a(e.dividedBy(a)),s=Object(ae.f)(r,n),i=Object(ae.h)(new D.a(s),n),o=Object(ae.i)(r,n,c);return{sharesAsNumberBalance:s,sharesAsBigNumber:i,sharesAsDisplayBalance:o}},ot=n(388),lt=function(e){var t=e.secondsRemaining,n=Object(z.b)().t,c=Object(ot.a)(t),a=c.days,r=c.hours,s=c.minutes;return Object($.jsx)(B.Sb,{fontSize:"14px",children:n("%day%d : %hour%h : %minute%m",{day:a,hour:r,minute:s})})},bt=function(e){var t=e.isTableVariant,n=Object(z.b)().t,c=Object(A.c)().account,a=Object(U.c)(),r=a.userData,s=r.lastDepositedTime,i=r.userShares,o=a.fees,l=o.withdrawalFee,b=o.withdrawalFeePeriod,j=l/100||"-",d=Object(B.oc)(Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.Sb,{bold:!0,mb:"4px",children:n("Unstaking fee: %fee%%",{fee:j})}),Object($.jsx)(B.Sb,{children:n("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new FARM in the pool.")})]}),{placement:"bottom-start"}),u=d.targetRef,x=d.tooltip,p=d.tooltipVisible,O=Object(ct.a)(parseInt(s,10),i,b),m=O.secondsRemaining,h=O.hasUnstakingFee,f=s&&!h&&i.gt(0),g=c&&s&&h;return Object($.jsxs)(B.R,{alignItems:t?"flex-start":"center",justifyContent:"space-between",flexDirection:t?"column":"row",children:[p&&x,Object($.jsxs)(B.Yb,{ref:u,small:!0,children:[f?"0":j,"% ",f?n("Unstaking Fee").toLowerCase():n(g?"unstaking fee until":"unstaking fee if withdrawn within 72h")]}),g&&Object($.jsx)(lt,{secondsRemaining:m})]})},jt=function(e){var t=e.stakingTokenSymbol,n=e.stakeAmount,c=Object(z.b)().t,a=Object(U.c)().fees.withdrawalFee/100,r=(parseFloat(n)*(a/100)).toFixed(4),s=Object(B.oc)(Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.Sb,{bold:!0,mb:"4px",children:c("Unstaking fee: %fee%%",{fee:a})}),Object($.jsx)(B.Sb,{children:c("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new FARM in the pool.")})]}),{placement:"top-start"}),i=s.targetRef,o=s.tooltip,l=s.tooltipVisible;return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(B.R,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[l&&o,Object($.jsx)(B.Yb,{ref:i,small:!0,children:c("Unstaking Fee")}),Object($.jsxs)(B.Sb,{fontSize:"14px",children:[n?r:"-"," ",t]})]}),Object($.jsx)(bt,{})]})},dt=Object(T.e)(B.q)(p||(p=Object(S.a)(["\n  flex-grow: 1;\n"]))),ut={gasLimit:38e4},xt=function(e){var t=e.pool,n=e.stakingMax,c=e.isRemovingStake,a=void 0!==c&&c,r=e.onDismiss,s=Object(Se.b)(),i=t.stakingToken,o=Object(A.c)().account,l=Object(he.c)(),b=Object(U.c)(),j=b.userData,d=j.lastDepositedTime,u=j.userShares,x=b.pricePerFullShare,p=Object(z.b)().t,O=Object(Be.a)().theme,m=Object(we.a)(),h=m.toastSuccess,f=m.toastError,g=Object(v.useState)(!1),k=Object(y.a)(g,2),S=k[0],w=k[1],C=Object(v.useState)(""),T=Object(y.a)(C,2),R=T[0],F=T[1],I=Object(v.useState)(0),P=Object(y.a)(I,2),L=P[0],M=P[1],V=Object(ct.a)(parseInt(d,10),u).hasUnstakingFee,E=Object(U.T)(),q=E.gt(0)&&R?Object(ae.d)(new D.a(R).times(E).toNumber()):"",H=function(e){if(e>0){var t=n.dividedBy(100).multipliedBy(e),c=Object(ae.i)(t,i.decimals,i.decimals);F(c)}else F("");M(e)},N=function(){var e=Object(ke.a)(ge.a.mark((function e(t){var n,c,a,i,b;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),n=it(t,x),c=new D.a(1e12),a=u.minus(n.sharesAsBigNumber),!a.lte(c)){e.next=22;break}return e.prev=6,e.next=9,l.withdrawAll(ut);case 9:return i=e.sent,e.next=12,i.wait();case 12:e.sent.status&&(h(p("Unstaked!"),p("Your earnings have also been harvested to your wallet")),w(!1),r(),s(Object(at.d)({account:o}))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),f(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),w(!1);case 20:e.next=36;break;case 22:return e.prev=22,e.next=25,l.withdraw(n.sharesAsBigNumber.toString(),ut);case 25:return b=e.sent,e.next=28,b.wait();case 28:e.sent.status&&(h(p("Unstaked!"),p("Your earnings have also been harvested to your wallet")),w(!1),r(),s(Object(at.d)({account:o}))),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(22),f(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),w(!1);case 36:case"end":return e.stop()}}),e,null,[[6,16],[22,32]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(ke.a)(ge.a.mark((function e(t){var n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,l.deposit(t.toString(),ut);case 4:return n=e.sent,e.next=7,n.wait();case 7:e.sent.status&&(h(p("Staked!"),p("Your funds have been staked in the pool")),w(!1),r(),s(Object(at.d)({account:o}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),f(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),w(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(ke.a)(ge.a.mark((function e(){var t;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(ae.h)(new D.a(R),i.decimals),a?N(t):Y(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)(B.pb,{title:p(a?"Unstake":"Stake in Pool"),onDismiss:r,headerBackground:O.colors.gradients.cardHeader,children:[Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object($.jsxs)(B.Sb,{bold:!0,children:[p(a?"Unstake":"Stake"),":"]}),Object($.jsxs)(B.R,{alignItems:"center",minWidth:"70px",children:[Object($.jsx)(B.X,{src:"/images/tokens/".concat(Object(K.a)(i.address),".png"),width:24,height:24,alt:i.symbol}),Object($.jsx)(B.Sb,{ml:"4px",bold:!0,children:i.symbol})]})]}),Object($.jsx)(B.h,{value:R,onUserInput:function(e){if(e){var t=new D.a(e).multipliedBy(Q.c.pow(i.decimals)),c=Math.floor(t.dividedBy(n).multipliedBy(100).toNumber());M(c>100?100:c)}else M(0);F(e)},currencyValue:E.gt(0)&&"~".concat(q||0," USD"),decimals:i.decimals}),Object($.jsx)(B.Sb,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:p("Balance: %balance%",{balance:Object(ae.i)(n,i.decimals)})}),Object($.jsx)(B.Jb,{min:0,max:100,value:L,onValueChanged:H,name:"stake",valueLabel:"".concat(L,"%"),step:1}),Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object($.jsx)(dt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return H(25)},children:"25%"}),Object($.jsx)(dt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return H(50)},children:"50%"}),Object($.jsx)(dt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return H(75)},children:"75%"}),Object($.jsx)(dt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return H(100)},children:p("Max")})]}),a&&V&&Object($.jsx)(jt,{stakingTokenSymbol:i.symbol,stakeAmount:R}),Object($.jsx)(B.q,{isLoading:S,endIcon:S?Object($.jsx)(B.g,{spin:!0,color:"currentColor"}):null,onClick:W,disabled:!R||0===parseFloat(R),mt:"24px",children:p(S?"Confirming":"Confirm")}),!a&&Object($.jsx)(B.q,{mt:"8px",as:"a",external:!0,href:J.c,variant:"secondary",children:p("Get %symbol%",{symbol:i.symbol})})]})},pt=function(e){var t=e.pool,n=e.stakingTokenBalance,c=Object(U.c)(),a=c.userData.userShares,r=c.pricePerFullShare,s=t.stakingToken,i=st(a,r),o=i.cakeAsBigNumber,l=i.cakeAsNumberBalance,b=Object(U.T)(),j=b.gt(0)?Object(ae.f)(o.multipliedBy(b),s.decimals):0,d=Object(B.mc)(Object($.jsx)(Ie,{tokenSymbol:s.symbol})),u=Object(y.a)(d,1)[0],x=Object(B.mc)(Object($.jsx)(xt,{stakingMax:n,pool:t})),p=Object(y.a)(x,1)[0],O=Object(B.mc)(Object($.jsx)(xt,{stakingMax:o,pool:t,isRemovingStake:!0})),m=Object(y.a)(O,1)[0];return Object($.jsxs)(B.R,{justifyContent:"space-between",alignItems:"center",children:[Object($.jsxs)(B.R,{flexDirection:"column",children:[Object($.jsx)(X.a,{fontSize:"20px",bold:!0,value:l,decimals:5}),Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",children:b.gt(0)?Object($.jsx)(X.a,{value:j,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object($.jsx)(B.Ib,{mt:"1px",height:16,width:64})})]}),Object($.jsxs)(B.R,{children:[Object($.jsx)(B.W,{variant:"secondary",onClick:m,mr:"6px",children:Object($.jsx)(B.ob,{color:"primary",width:"24px"})}),Object($.jsx)(B.W,{variant:"secondary",onClick:n.gt(0)?p:u,children:Object($.jsx)(B.a,{color:"primary",width:"24px",height:"24px"})})]})]})},Ot=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.accountHasSharesStaked,a=e.isLoading,r=void 0!==a&&a,s=t.stakingToken,i=Object(z.b)().t,o=Object(B.mc)(Object($.jsx)(Ie,{tokenSymbol:s.symbol})),l=Object(y.a)(o,1)[0],b=Object(B.mc)(Object($.jsx)(xt,{stakingMax:n,pool:t})),j=Object(y.a)(b,1)[0];return Object($.jsx)(B.R,{flexDirection:"column",children:r?Object($.jsx)(B.Ib,{width:"100%",height:"52px"}):c?Object($.jsx)(pt,{pool:t,stakingTokenBalance:n}):Object($.jsx)(B.q,{onClick:n.gt(0)?j:l,children:i("Stake")})})},mt=Object(T.e)(B.Sb)(O||(O=Object(S.a)(["\n  display: inline;\n"]))),ht=function(e){var t=e.pool,n=e.accountHasSharesStaked,c=e.isLoading,a=t.stakingToken,r=t.userData,s=Object(z.b)().t,i=(null===r||void 0===r?void 0:r.stakingTokenBalance)?new D.a(r.stakingTokenBalance):Q.d,o=De(),l=o.isVaultApproved,b=o.setLastUpdated;return Object($.jsx)(B.R,{flexDirection:"column",children:Object($.jsxs)(B.R,{flexDirection:"column",children:[Object($.jsxs)(B.m,{display:"inline",children:[Object($.jsxs)(mt,{color:n?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[n?a.symbol:s("Stake")," "]}),Object($.jsx)(mt,{color:n?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n?s("Staked (compounding)"):"".concat(a.symbol)})]}),l?Object($.jsx)(Ot,{isLoading:c,pool:t,stakingTokenBalance:i,accountHasSharesStaked:n}):Object($.jsx)(nt,{isLoading:c,setLastUpdated:b})]})})},ft=function(e){var t=e.cakeToDisplay,n=e.dollarValueToDisplay,c=e.dateStringToDisplay,a=Object(z.b)().t,r=Object(B.oc)(Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{fontSize:"16px",value:t,decimals:3,bold:!0,unit:" FARM"}),Object($.jsx)(X.a,{fontSize:"16px",value:n,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object($.jsx)(B.Sb,{children:c})]}),{placement:"bottom-end"}),s=r.targetRef,i=r.tooltip,o=r.tooltipVisible;return Object($.jsxs)($.Fragment,{children:[o&&i,Object($.jsx)(B.Yb,{ref:s,small:!0,children:Object($.jsx)(X.a,{fontSize:"14px",value:t})})]})},gt=function(){var e=Object(z.b)().t,t=Object(A.c)().account,n=Object(U.c)(),c=n.pricePerFullShare,a=n.userData,r=a.cakeAtLastUserAction,s=a.userShares,i=a.lastUserActionTime,o=Object(U.T)(),l=Object(_.d)(t,r,s,c,o.toNumber()),b=l.hasAutoEarnings,j=l.autoCakeToDisplay,d=l.autoUsdToDisplay,u=i&&1e3*parseInt(i),x=new Date(u).toLocaleString();return Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(B.Sb,{fontSize:"14px",children:"".concat(e("Recent FARM profit"),":")}),b&&Object($.jsx)(ft,{cakeToDisplay:j,dollarValueToDisplay:d,dateStringToDisplay:x})]})},kt=Object(T.e)(B.v)(m||(m=Object(S.a)(["\n  min-height: ",";\n"])),(function(e){return e.isLoading?"0":"254px"})),yt=function(e){var t=e.pool,n=e.showStakedOnly,c=Object(z.b)().t,a=Object(B.lc)().isXl,r=Object(A.c)().account,s=Object(U.c)(),i=s.userData,o=i.userShares,l=i.isLoading,b=s.fees.performanceFee,j=o&&o.gt(0),d=!t.userData||l,u=b&&b/100;return n&&!j?null:Object($.jsx)(te,{isPromoted:{isDesktop:a},children:Object($.jsxs)(ne,{children:[Object($.jsx)(Oe,{isStaking:j,isAutoVault:!0,earningToken:ue.a.cake,stakingToken:ue.a.cake}),Object($.jsxs)(kt,{isLoading:d,children:[Object($.jsx)(Z,{pool:t,performanceFee:u}),Object($.jsx)(B.m,{mt:"24px",children:Object($.jsx)(gt,{})}),Object($.jsx)(B.m,{mt:"8px",children:Object($.jsx)(bt,{})}),Object($.jsx)(B.R,{mt:"32px",flexDirection:"column",children:r?Object($.jsx)(ht,{pool:t,accountHasSharesStaked:j,isLoading:d}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.Sb,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:c("Start earning")}),Object($.jsx)(W.a,{})]})})]}),Object($.jsx)(je,{pool:t,account:r})]})})},St=n(112);!function(e){e.TABLE="TABLE",e.CARD="CARD"}(f||(f={}));var vt,wt,Ct,Tt,Rt,Dt,At,Bt,Ft,It,Pt,Lt,zt,Mt,Ut,Vt,Et,qt,Ht,Nt,Yt,Wt,Qt,Xt,Gt,Jt,_t,Kt,$t,Zt,en,tn,nn,cn=T.e.div(h||(h=Object(S.a)(["\n  margin-right: 0px;\n  margin-left: -8px;\n\n  "," {\n    margin-left: 0;\n    margin-right: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),an=function(e){var t=e.viewMode,n=e.onToggle,c=function(e){t!==e&&n(e)};return Object($.jsxs)(cn,{children:[Object($.jsx)(B.W,{variant:"text",scale:"sm",id:"clickPoolCardView",onClick:function(){return c(f.CARD)},children:Object($.jsx)(B.z,{color:t===f.CARD?"primary":"textDisabled"})}),Object($.jsx)(B.W,{variant:"text",scale:"sm",id:"clickPoolTableView",onClick:function(){return c(f.TABLE)},children:Object($.jsx)(B.eb,{color:t===f.TABLE?"primary":"textDisabled"})})]})},rn=function(e){var t=e.stakedOnly,n=e.setStakedOnly,c=e.hasStakeInFinishedPools,a=e.viewMode,r=e.setViewMode,s=Object(C.j)(),i=s.url,o=s.isExact,l=Object(B.lc)(),b=l.isXs,j=l.isSm,d=Object(z.b)().t,u=Object($.jsx)(an,{viewMode:a,onToggle:function(e){return r(e)}}),x=Object($.jsxs)(B.r,{activeIndex:o?0:1,scale:"sm",variant:"subtle",children:[Object($.jsx)(B.s,{as:St.a,to:"".concat(i),children:d("Live")}),Object($.jsx)(B.xb,{show:c,children:Object($.jsx)(B.s,{as:St.a,to:"".concat(i,"/history"),children:d("Finished")})})]}),p=Object($.jsxs)(B.R,{mt:["4px",null,0,null],ml:[0,null,"24px",null],justifyContent:"center",alignItems:"center",children:[Object($.jsx)(B.Wb,{scale:"sm",checked:t,onChange:function(){return n((function(e){return!e}))}}),Object($.jsx)(B.Sb,{ml:["4px","4px","8px"],children:d("Staked only")})]});return b||j?Object($.jsxs)(B.R,{flexDirection:"column",alignItems:"flex-start",mb:"24px",children:[Object($.jsxs)(B.R,{width:"100%",justifyContent:"space-between",children:[u,x]}),p]}):Object($.jsxs)(B.R,{alignItems:"center",justifyContent:["space-around","space-around","flex-start"],mb:["24px","24px","24px","0px"],children:[u,x,p]})},sn=T.e.div(vt||(vt=Object(S.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundDisabled})),on=function(e){var t=e.onDismiss,n=e.TooltipComponent,c=Object(z.b)().t,a=Object(A.c)().account,r=Object(Be.a)().theme,s=Object(we.a)(),i=s.toastError,o=s.toastSuccess,l=Object(he.c)(),b=Object(v.useState)(!1),j=Object(y.a)(b,2),d=j[0],u=j[1],x=Object(U.c)(),p=x.estimatedCakeBountyReward,O=x.totalPendingCakeHarvest,m=x.fees.callFee,h=Object(U.T)(),f=m/100,g=Object(ae.f)(O,18),k=Object(v.useMemo)((function(){return new D.a(p).multipliedBy(h)}),[h,p]),S=k.gte(0),w=!!p&&p.gte(0),C=S?Object(ae.f)(k,18):0,T=w?Object(ae.f)(p,18):0,R=Object(B.oc)(Object($.jsx)(n,{fee:m}),{placement:"bottom",tooltipPadding:{right:15}}),F=R.targetRef,I=R.tooltip,P=R.tooltipVisible,L=function(){var e=Object(ke.a)(ge.a.mark((function e(){var n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,l.harvest({gasLimit:3e5});case 4:return n=e.sent,e.next=7,n.wait();case 7:e.sent.status&&(o(c("Bounty collected!"),c("FARM bounty has been sent to your wallet.")),u(!1),t()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i(c("Error"),c("Please try again. Confirm the transaction and make sure you are paying enough gas!")),u(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)(B.pb,{title:c("Claim Bounty"),onDismiss:t,headerBackground:r.colors.gradients.cardHeader,children:[P&&I,Object($.jsxs)(B.R,{alignItems:"flex-start",justifyContent:"space-between",children:[Object($.jsx)(B.Sb,{children:c("You\u2019ll claim")}),Object($.jsxs)(B.R,{flexDirection:"column",children:[Object($.jsx)(X.a,{bold:!0,value:T,decimals:7,unit:" FARM"}),Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",children:Object($.jsx)(X.a,{fontSize:"12px",color:"textSubtle",value:C,decimals:2,unit:" USD",prefix:"~"})})]})]}),Object($.jsx)(sn,{}),Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(B.Sb,{fontSize:"14px",color:"textSubtle",children:c("Pool total pending yield")}),Object($.jsx)(X.a,{color:"textSubtle",value:g,unit:" FARM"})]}),Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[Object($.jsx)(B.Sb,{fontSize:"14px",color:"textSubtle",children:c("Bounty")}),Object($.jsxs)(B.Sb,{fontSize:"14px",color:"textSubtle",children:[f,"%"]})]}),a?Object($.jsx)(B.q,{isLoading:d,disabled:!C||!T||!m,endIcon:d?Object($.jsx)(B.g,{spin:!0,color:"currentColor"}):null,onClick:L,mb:"28px",id:"autoCakeConfirmBounty",children:c(d?"Confirming":"Confirm")}):Object($.jsx)(W.a,{mb:"28px"}),Object($.jsxs)(B.R,{justifyContent:"center",alignItems:"center",children:[Object($.jsx)(B.Sb,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:c("What\u2019s this?")}),Object($.jsx)("span",{ref:F,children:Object($.jsx)(B.U,{color:"textSubtle"})})]})]})},ln=Object(T.e)(B.u)(wt||(wt=Object(S.a)(["\n  width: 100%;\n  flex: 1;\n  "," {\n    min-width: 240px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),bn=function(){var e=Object(z.b)().t,t=Object(U.c)(),n=t.estimatedCakeBountyReward,c=t.fees.callFee,a=Object(U.T)(),r=Object(v.useMemo)((function(){return new D.a(n).multipliedBy(a)}),[a,n]),s=r.gte(0),i=!!n&&n.gte(0),o=s?Object(ae.f)(r,18):0,l=i?Object(ae.f)(n,18):0,b=function(t){var n=t.fee;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.Sb,{mb:"16px",children:e("This bounty is given as a reward for providing a service to other users.")}),Object($.jsx)(B.Sb,{mb:"16px",children:e("Whenever you successfully claim the bounty, you\u2019re also helping out by activating the Auto FARM Pool\u2019s compounding function for everyone.")}),Object($.jsx)(B.Sb,{style:{fontWeight:"bold"},children:e("Auto-Compound Bounty: %fee%% of all Auto FARM pool users pending yield",{fee:n/100})})]})},j=Object(B.mc)(Object($.jsx)(on,{TooltipComponent:b})),d=Object(y.a)(j,1)[0],u=Object(B.oc)(Object($.jsx)(b,{fee:c}),{placement:"bottom-end",tooltipOffset:[20,10]}),x=u.targetRef,p=u.tooltip,O=u.tooltipVisible;return Object($.jsxs)($.Fragment,{children:[O&&p,Object($.jsx)(ln,{children:Object($.jsxs)(B.v,{children:[Object($.jsx)(B.R,{flexDirection:"column",children:Object($.jsxs)(B.R,{alignItems:"center",mb:"12px",children:[Object($.jsx)(B.Sb,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:e("Auto FARM Bounty")}),Object($.jsx)(B.m,{ref:x,children:Object($.jsx)(B.U,{color:"textSubtle"})})]})}),Object($.jsxs)(B.R,{alignItems:"center",justifyContent:"space-between",children:[Object($.jsxs)(B.R,{flexDirection:"column",mr:"12px",children:[Object($.jsx)(B.T,{children:i?Object($.jsx)(X.a,{fontSize:"20px",bold:!0,value:l,decimals:3}):Object($.jsx)(B.Ib,{height:20,width:96,mb:"2px"})}),s?Object($.jsx)(X.a,{fontSize:"12px",color:"textSubtle",value:o,decimals:2,unit:" USD",prefix:"~"}):Object($.jsx)(B.Ib,{height:16,width:62})]}),Object($.jsx)(B.q,{disabled:!o||!l||!c,onClick:d,scale:"sm",id:"clickClaimVaultBounty",children:e("Claim")})]})]})})]})},jn=Object(T.e)(B.Sb)(Ct||(Ct=Object(S.a)(["\n  display: none;\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs})),dn=Object(T.e)(B.cb)(Tt||(Tt=Object(S.a)(["\n  margin-right: 16px;\n  display: flex;\n  justify-content: flex-end;\n\n  &:hover {\n    text-decoration: none;\n  }\n  "," {\n    flex: 1;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),un=function(){var e=Object(z.b)().t;return Object($.jsx)(dn,{external:!0,href:"https://docs.pancakeswap.finance/syrup-pools/syrup-pool",children:Object($.jsxs)(B.q,{px:["14px",null,null,null,"20px"],variant:"subtle",children:[Object($.jsx)(jn,{color:"backgroundAlt",bold:!0,fontSize:"16px",children:e("Help")}),Object($.jsx)(B.U,{color:"backgroundAlt",ml:[null,null,null,0,"6px"]})]})})},xn=n(282),pn=T.e.div(Rt||(Rt=Object(S.a)(["\n  color: black;\n\n  padding: 24px 8px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]))),On=Object(T.e)(B.R)(Dt||(Dt=Object(S.a)(["\n  flex-direction: column;\n  justify-content: center;\n  max-height: 40px;\n  "," {\n    line-height: 1;\n  }\n"])),B.Sb),mn=pn,hn=Object(T.e)(mn)(At||(At=Object(S.a)(["\n  flex: 5;\n  flex-direction: row;\n  padding-left: 12px;\n  "," {\n    flex: 1 0 150px;\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),fn=function(e){var t=e.pool,n=Object(z.b)().t,c=Object(B.lc)(),a=c.isXs,r=c.isSm,s=t.sousId,i=t.stakingToken,o=t.earningToken,l=t.userData,b=t.isFinished,j=t.isAutoVault,d=Object(U.c)().userData.userShares,u=d&&d.gt(0),x=i.symbol,p=o.symbol,O=((null===l||void 0===l?void 0:l.stakedBalance)?new D.a(l.stakedBalance):Q.d).gt(0),m=0===s,h=j?u:O,f="".concat(n("Earn")," ").concat(p),g="".concat(n("Stake")," ").concat(x),k=0!==s||0===s&&!a&&!r;return j?(f=n("Auto FARM"),g=n("Automatic restaking")):m&&(f=n("Manual FARM"),g="".concat(n("Earn")," FARM ").concat(n("Stake").toLocaleLowerCase()," FARM")),Object($.jsxs)(hn,{role:"cell",children:[j?Object($.jsx)(xe,{mr:"8px",width:40,height:40}):Object($.jsx)(de.a,{primaryToken:o,secondaryToken:i,mr:"8px",width:40,height:40}),Object($.jsxs)(On,{children:[h&&Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:b?"failure":"secondary",textTransform:"uppercase",children:n("Staked")}),Object($.jsx)(B.Sb,{bold:!a&&!r,small:a||r,children:f}),k&&Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",children:g})]})]})},gn=Object(T.e)(mn)(Bt||(Bt=Object(S.a)(["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),kn=T.e.div(Ft||(Ft=Object(S.a)(["\n  align-self: center;\n"]))),yn=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(z.b)().t,r=Object(B.lc)(),s=r.isXs,i=r.isSm,o=t.sousId,l=t.earningToken,b=t.poolCategory,j=t.userData,d=t.earningTokenPrice,u=t.isAutoVault,x=0===o,p=(null===j||void 0===j?void 0:j.pendingReward)?new D.a(j.pendingReward):Q.d,O=Object(ae.f)(p,l.decimals),m=Object(ae.f)(p.multipliedBy(d),l.decimals),h=n&&p.gt(0),f=Object(ae.i)(p,l.decimals),g=Object(ae.d)(O,3,3),k=b===me.c.BINANCE,S=Object(U.c)(),v=S.userData,w=v.cakeAtLastUserAction,C=v.userShares,T=v.lastUserActionTime,R=S.pricePerFullShare,A=Object(_.d)(n,w,C,R,d),F=A.hasAutoEarnings,I=A.autoCakeToDisplay,P=A.autoUsdToDisplay,L=T&&1e3*parseInt(T),M=new Date(L).toLocaleString(),V=u?a("Recent FARM profit"):a("%asset% Earned",{asset:l.symbol});O=u?I:O,h=u?F:h,m=u?P:m;var E=Object(B.oc)(Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{fontSize:"16px",value:I,decimals:3,bold:!0,unit:" FARM"}),Object($.jsx)(X.a,{fontSize:"16px",value:P,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object($.jsx)(B.Sb,{children:M})]}),{placement:"bottom"}),q=E.targetRef,H=E.tooltip,N=E.tooltipVisible,Y=Object(B.mc)(Object($.jsx)(Ke,{formattedBalance:g,fullBalance:f,earningToken:l,earningsDollarValue:m,sousId:o,isBnbPool:k,isCompoundPool:x})),W=Object(y.a)(Y,1)[0];return Object($.jsx)(gn,{role:"cell",children:Object($.jsxs)(On,{children:[Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:V}),!c&&n?Object($.jsx)(B.Ib,{width:"80px",height:"16px"}):Object($.jsxs)($.Fragment,{children:[N&&H,Object($.jsxs)(B.R,{children:[Object($.jsxs)(B.m,{mr:"8px",height:"32px",onClick:!u&&h?function(e){e.stopPropagation(),W()}:void 0,children:[Object($.jsx)(X.a,{mt:"4px",bold:!s&&!i,fontSize:s||i?"14px":"16px",color:h?"primary":"textDisabled",decimals:h?5:1,value:h?O:0}),h?Object($.jsx)($.Fragment,{children:d>0&&Object($.jsx)(X.a,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:m,unit:" USD"})}):Object($.jsx)(B.Sb,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]}),u&&h&&!s&&!i&&Object($.jsx)(kn,{ref:q,children:Object($.jsx)(B.U,{color:"textSubtle"})})]})]})]})})},Sn=n(91),vn=["pool","showIcon","performanceFee"],wn=function(e){var t=e.pool,n=e.showIcon,c=e.performanceFee,a=void 0===c?0:c,r=Object(Sn.a)(e,vn),s=t.stakingToken,i=t.earningToken,o=t.isFinished,l=t.earningTokenPrice,b=t.apr,j=Object(z.b)().t,d=Object(_.c)(t,a),u=d.apr,x=d.roundingDecimals,p=d.compoundFrequency,O=s.address&&"".concat(J.c,"/#/swap?outputCurrency=").concat(Object(K.a)(s.address)),m=Object(B.mc)(Object($.jsx)(G.a,{tokenPrice:l,apr:b,linkLabel:j("Get %symbol%",{symbol:s.symbol}),linkHref:O||J.c,earningTokenSymbol:i.symbol,roundingDecimals:x,compoundFrequency:p,performanceFee:a})),h=Object(y.a)(m,1)[0],f=function(e){e.stopPropagation(),h()};return Object($.jsx)(B.R,Object(k.a)(Object(k.a)({alignItems:"center",justifyContent:"space-between"},r),{},{children:u||o?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{onClick:f,fontSize:"16px",isDisabled:o,value:o?0:u,decimals:2,unit:"%"}),!o&&n&&Object($.jsx)(B.q,{onClick:f,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:Object($.jsx)(B.t,{color:"textSubtle",width:"20px"})})]}):Object($.jsx)(B.Ib,{width:"80px",height:"16px"})}))},Cn=Object(T.e)(mn)(It||(It=Object(S.a)(["\n  flex: 1 0 50px;\n  "," {\n    flex: 0 0 120px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Tn=function(e){var t=e.pool,n=e.performanceFee,c=Object(z.b)().t,a=Object(B.lc)(),r=a.isXs,s=a.isSm,i=t.isAutoVault;return Object($.jsx)(Cn,{role:"cell",children:Object($.jsxs)(On,{children:[Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:c(i?"APY":"APR")}),Object($.jsx)(wn,{pool:t,performanceFee:i?n:0,showIcon:!r&&!s})]})})},Rn=Object(T.e)(mn)(Pt||(Pt=Object(S.a)(["\n  flex: 2 0 100px;\n"]))),Dn=function(e){var t=e.pool,n=Object(z.b)().t,c=t.sousId,a=t.stakingToken,r=t.totalStaked,s=t.isAutoVault,i=Object(U.c)().totalCakeInVault,o=0===c,l=Object(v.useMemo)((function(){if(s)return Object(ae.f)(i,a.decimals);if(o){var e=new D.a(r).minus(i);return Object(ae.f)(e,a.decimals)}return Object(ae.f)(r,a.decimals)}),[s,i,o,r,a.decimals]);return Object($.jsx)(Rn,{role:"cell",children:Object($.jsxs)(On,{children:[Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:n("Total staked")}),r&&r.gte(0)?Object($.jsx)(B.R,{height:"20px",alignItems:"center",children:Object($.jsx)(X.a,{fontSize:"16px",value:l,decimals:0,unit:" ".concat(a.symbol)})}):Object($.jsx)(B.Ib,{width:"80px",height:"16px"})]})})},An=Object(T.e)(mn)(Lt||(Lt=Object(S.a)(["\n  flex: 2 0 100px;\n"]))),Bn=function(e){var t=e.pool,n=t.sousId,c=t.totalStaked,a=t.startBlock,r=t.endBlock,s=t.isFinished,i=Object(U.b)().currentBlock,o=Object(z.b)().t,l=Object(_.e)(t,i),b=l.shouldShowBlockCountdown,j=l.blocksUntilStart,d=l.blocksRemaining,u=l.hasPoolStarted,x=l.blocksToDisplay,p=0===n,O=b?Object($.jsxs)(B.R,{alignItems:"center",children:[Object($.jsxs)(B.R,{flex:"1.3",children:[Object($.jsx)(X.a,{fontSize:"16px",value:x,decimals:0}),Object($.jsx)(B.Sb,{ml:"4px",textTransform:"lowercase",children:o("Blocks")})]}),Object($.jsx)(B.R,{flex:"1",children:Object($.jsx)(B.cb,{external:!0,href:Object(se.b)(u?r:a),onClick:function(e){return e.stopPropagation()},children:Object($.jsx)(B.Ub,{ml:"4px"})})})]}):Object($.jsx)(B.Sb,{children:"-"}),m=(!c.gt(0)||!i||!d&&!j)&&!p&&!s;return Object($.jsx)(An,{role:"cell",children:Object($.jsxs)(On,{children:[Object($.jsx)(B.Sb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:o(u||!b?"Ends in":"Starts in")}),m?Object($.jsx)(B.Ib,{width:"80px",height:"16px"}):O]})})},Fn=Object(T.e)(mn)(zt||(zt=Object(S.a)(["\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  flex: 1;\n  padding-right: 12px;\n  padding-left: 0px;\n  "," {\n    flex: 0 0 120px;\n    padding-right: 32px;\n    padding-left: 8px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),In=Object(T.e)(B.F)(Mt||(Mt=Object(S.a)(["\n  transform: ",";\n  height: 24px;\n"])),(function(e){return e.toggled?"rotate(180deg)":"rotate(0)"})),Pn=function(e){var t=e.expanded,n=e.isFullLayout,c=Object(z.b)().t;return Object($.jsxs)(Fn,{role:"cell",children:[n&&Object($.jsx)(B.Sb,{color:"primary",bold:!0,children:c(t?"Hide":"Details")}),Object($.jsx)(In,{color:"primary",toggled:t})]})},Ln=T.e.div(Ut||(Ut=Object(S.a)(["\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n\n  "," {\n    margin-left: 12px;\n    margin-right: 12px;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n\n  "," {\n    margin-left: 32px;\n    margin-right: 0;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n"])),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),zn=T.e.div(Vt||(Vt=Object(S.a)(["\n  font-weight: 600;\n  font-size: 12px;\n"]))),Mn=T.e.div(Et||(Et=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Un=function(e){var t=e.sousId,n=e.poolCategory,c=e.earningToken,a=e.userData,r=e.userDataLoaded,s=e.isAutoVault,i=e.earningTokenPrice,o=Object(z.b)().t,l=Object(A.c)().account,b=(null===a||void 0===a?void 0:a.pendingReward)?new D.a(a.pendingReward):Q.d,j=Object(ae.f)(b,c.decimals),d=Object(ae.f)(b.multipliedBy(i),c.decimals),u=b.gt(0),x=Object(ae.i)(b,c.decimals),p=Object(ae.d)(j,3,3),O=0===t,m=n===me.c.BINANCE,h=Object(U.c)(),f=h.userData,g=f.cakeAtLastUserAction,k=f.userShares,S=h.pricePerFullShare,v=h.fees.performanceFee,w=Object(_.d)(l,g,k,S,i),C=w.hasAutoEarnings,T=w.autoCakeToDisplay,R=w.autoUsdToDisplay;j=s?T:j,u=s?C:u,d=s?R:d;var F=Object(B.mc)(Object($.jsx)(Ke,{formattedBalance:p,fullBalance:x,earningToken:c,earningsDollarValue:d,sousId:t,isBnbPool:m,isCompoundPool:O})),I=Object(y.a)(F,1)[0],P=Object(B.oc)(o("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),L=P.targetRef,M=P.tooltip,V=P.tooltipVisible,E=s?Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:o("Recent FARM profit")}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(B.Sb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[c.symbol," "]}),Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:o("Earned")})]});return l?r?Object($.jsxs)(Ln,{children:[Object($.jsx)(zn,{children:E}),Object($.jsxs)(Mn,{children:[Object($.jsx)(B.R,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:Object($.jsx)($.Fragment,{children:u?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:j}),i>0&&Object($.jsx)(X.a,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:d,unit:" USD"})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.T,{color:"textDisabled",children:"0"}),Object($.jsx)(B.Sb,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),s?Object($.jsxs)(B.R,{flex:"1.3",flexDirection:"column",alignSelf:"flex-start",alignItems:"flex-start",children:[Object($.jsx)(bt,{isTableVariant:!0}),Object($.jsxs)(B.R,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[V&&M,Object($.jsx)(B.Yb,{ref:L,small:!0,children:o("Performance Fee")}),Object($.jsx)(B.R,{alignItems:"center",children:Object($.jsxs)(B.Sb,{ml:"4px",small:!0,children:[v/100,"%"]})})]})]}):Object($.jsx)(B.q,{disabled:!u,onClick:I,children:o(O?"Collect":"Harvest")})]})]}):Object($.jsxs)(Ln,{children:[Object($.jsx)(zn,{children:E}),Object($.jsx)(Mn,{children:Object($.jsx)(B.Ib,{width:180,height:"32px",marginTop:14})})]}):Object($.jsxs)(Ln,{children:[Object($.jsx)(zn,{children:E}),Object($.jsxs)(Mn,{children:[Object($.jsx)(X.a,{pt:"8px",lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:0}),Object($.jsx)(B.q,{disabled:!0,children:o(O?"Collect":"Harvest")})]})]})},Vn=T.e.div(qt||(qt=Object(S.a)(["\n  display: flex;\n"]))),En=function(e){var t=e.pool,n=e.userDataLoaded,c=t.sousId,a=t.stakingToken,r=t.earningToken,s=t.stakingLimit,i=t.isFinished,o=t.poolCategory,l=t.userData,b=t.stakingTokenPrice,j=t.isAutoVault,d=Object(z.b)().t,u=Object(A.c)().account,x=Object(he.e)(a.address?Object(K.a)(a.address):""),p=Te(x,c,r.symbol),O=p.handleApprove,m=p.requestedApproval,h=De(),f=h.isVaultApproved,g=h.setLastUpdated,k=Re(g),S=k.handleApprove,v=k.requestedApproval,w=j?S:O,C=j?v:m,T=o===me.c.BINANCE,R=(null===l||void 0===l?void 0:l.allowance)?new D.a(l.allowance):Q.d,F=(null===l||void 0===l?void 0:l.stakedBalance)?new D.a(l.stakedBalance):Q.d,I=!j&&F.gt(0),P=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new D.a(l.stakingTokenBalance):Q.d,L=Object(ae.f)(F,a.decimals),M=Object(ae.f)(F.multipliedBy(b),a.decimals),V=Object(U.c)(),E=V.userData.userShares,q=V.pricePerFullShare,H=Object(_.b)(E,q),N=H.cakeAsBigNumber,Y=H.cakeAsNumberBalance,G=E&&E.gt(0),J=j&&G,Z=Object(ae.f)(N.multipliedBy(b),a.decimals),ee=j?!f:!R.gt(0)&&!T,te=Object(B.mc)(Object($.jsx)(Ie,{tokenSymbol:a.symbol})),ne=Object(y.a)(te,1)[0],ce=Object(B.mc)(Object($.jsx)(We,{isBnbPool:T,pool:t,stakingTokenBalance:P,stakingTokenPrice:b})),re=Object(y.a)(ce,1)[0],se=Object(B.mc)(Object($.jsx)(xt,{stakingMax:P,pool:t})),ie=Object(y.a)(se,1)[0],oe=Object(B.mc)(Object($.jsx)(We,{stakingTokenBalance:P,isBnbPool:T,pool:t,stakingTokenPrice:b,isRemovingStake:!0})),le=Object(y.a)(oe,1)[0],be=Object(B.mc)(Object($.jsx)(xt,{stakingMax:N,pool:t,isRemovingStake:!0})),je=Object(y.a)(be,1)[0],de=function(){j?ie():re()},ue=Object(B.oc)(d("You've already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),xe=ue.targetRef,pe=ue.tooltip,Oe=ue.tooltipVisible,fe=s.gt(0)&&l.stakedBalance.gte(s);return u?n?ee?Object($.jsxs)(Ln,{children:[Object($.jsx)(zn,{children:Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d("Enable pool")})}),Object($.jsx)(Mn,{children:Object($.jsx)(B.q,{width:"100%",disabled:C,onClick:w,variant:"secondary",children:d("Enable")})})]}):I||J?Object($.jsxs)(Ln,{children:[Object($.jsxs)(zn,{children:[Object($.jsxs)(B.Sb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[a.symbol," "]}),Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d(j?"Staked (compounding)":"Staked")})]}),Object($.jsxs)(Mn,{children:[Object($.jsxs)(B.R,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:[Object($.jsx)(X.a,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:j?Y:L}),Object($.jsx)(X.a,{fontSize:"12px",display:"inline",color:"textSubtle",decimals:2,value:j?Z:M,unit:" USD",prefix:"~"})]}),Object($.jsxs)(Vn,{children:[Object($.jsx)(B.W,{variant:"secondary",onClick:function(){j?je():le()},mr:"6px",children:Object($.jsx)(B.ob,{color:"primary",width:"14px"})}),fe?Object($.jsx)("span",{ref:xe,children:Object($.jsx)(B.W,{variant:"secondary",disabled:!0,children:Object($.jsx)(B.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object($.jsx)(B.W,{variant:"secondary",onClick:P.gt(0)?de:ne,disabled:i,children:Object($.jsx)(B.a,{color:"primary",width:"14px"})})]}),Oe&&pe]})]}):Object($.jsxs)(Ln,{children:[Object($.jsxs)(zn,{children:[Object($.jsxs)(B.Sb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[d("Stake")," "]}),Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:a.symbol})]}),Object($.jsx)(Mn,{children:Object($.jsx)(B.q,{width:"100%",onClick:P.gt(0)?de:ne,variant:"secondary",disabled:i,children:d("Stake")})})]}):Object($.jsxs)(Ln,{children:[Object($.jsx)(zn,{children:Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d("Start staking")})}),Object($.jsx)(Mn,{children:Object($.jsx)(B.Ib,{width:180,height:"32px",marginTop:14})})]}):Object($.jsxs)(Ln,{children:[Object($.jsx)(zn,{children:Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d("Start staking")})}),Object($.jsx)(Mn,{children:Object($.jsx)(W.a,{width:"100%"})})]})},qn=Object(T.f)(Ht||(Ht=Object(S.a)(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 700px;\n  }\n"]))),Hn=Object(T.f)(Nt||(Nt=Object(S.a)(["\n  from {\n    max-height: 700px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]))),Nn=T.e.div(Yt||(Yt=Object(S.a)(["\n  animation: ",";\n  overflow: hidden;\n  background: ",";\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  padding: 12px;\n\n  "," {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n"])),(function(e){return e.expanded?Object(T.d)(Wt||(Wt=Object(S.a)(["\n          "," 300ms linear forwards\n        "])),qn):Object(T.d)(Qt||(Qt=Object(S.a)(["\n          "," 300ms linear forwards\n        "])),Hn)}),(function(e){return e.theme.colors.dropdown}),(function(e){return e.theme.mediaQueries.lg})),Yn=T.e.div(Xt||(Xt=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Wn=Object(T.e)(B.m)(Gt||(Gt=Object(S.a)(["\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: auto;\n  padding: 8px 8px;\n  "," {\n    padding: 0;\n    flex-basis: 230px;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),Qn=function(e){var t,n=e.account,c=e.pool,a=e.userDataLoaded,r=e.expanded,s=e.breakpoints,i=c.sousId,o=c.stakingToken,l=c.earningToken,b=c.totalStaked,j=c.startBlock,d=c.endBlock,u=c.stakingLimit,x=c.contractAddress,p=c.isAutoVault,O=Object(z.b)().t,m=Object(K.a)(x),h=Object(K.g)(),f=Object(U.b)().currentBlock,g=s.isXs,y=s.isSm,S=s.isMd,v=(g||y)&&0===i,w=Object(_.e)(c,f),C=w.shouldShowBlockCountdown,T=w.blocksUntilStart,R=w.blocksRemaining,A=w.hasPoolStarted,F=w.blocksToDisplay,I=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),P=l.address?Object(K.a)(l.address):"",L="".concat(J.d,"/images/tokens/").concat(P,".png"),M=Object(U.c)(),V=M.totalCakeInVault,E=M.fees.performanceFee,q=E&&E/100,H=0===i,N=Object(B.oc)(O("Total amount of %symbol% staked in this pool",{symbol:o.symbol}),{placement:"bottom"}),Y=N.targetRef,W=N.tooltip,Q=N.tooltipVisible,G=O("You must harvest and compound your earnings from this pool manually."),Z=O("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),ee=Object(B.oc)(p?Z:G,{placement:"bottom-start"}),te=ee.targetRef,ne=ee.tooltip,ie=ee.tooltipVisible,oe=u.gt(0)?Object($.jsxs)(B.R,{mb:"8px",justifyContent:"space-between",children:[Object($.jsxs)(B.Sb,{children:[O("Max. stake per user"),":"]}),Object($.jsx)(B.Sb,{children:"".concat(Object(ae.i)(u,o.decimals,0)," ").concat(o.symbol)})]}):null,le=R||T?Object($.jsxs)(B.R,{mb:"8px",justifyContent:"space-between",children:[Object($.jsxs)(B.Sb,{children:[O(A?"Ends in":"Starts in"),":"]}),Object($.jsx)(B.R,{children:Object($.jsxs)(B.cb,{external:!0,href:Object(se.b)(A?d:j),children:[Object($.jsx)(X.a,{fontSize:"16px",value:F,decimals:0,color:"primary"}),Object($.jsx)(B.Sb,{ml:"4px",color:"primary",textTransform:"lowercase",children:O("Blocks")}),Object($.jsx)(B.Ub,{ml:"4px",color:"primary"})]})})]}):Object($.jsx)(B.Ib,{width:"56px",height:"16px"}),be=Object($.jsxs)(B.R,{justifyContent:"space-between",alignItems:"center",mb:"8px",children:[Object($.jsxs)(B.Sb,{children:[O(p?"APY":"APR"),":"]}),Object($.jsx)(wn,{pool:c,showIcon:!0,performanceFee:p?q:0})]}),je=Object($.jsxs)(B.R,{justifyContent:"space-between",alignItems:"center",mb:"8px",children:[Object($.jsxs)(B.Sb,{maxWidth:["50px","100%"],children:[O("Total staked"),":"]}),Object($.jsxs)(B.R,{alignItems:"center",children:[b&&b.gte(0)?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(X.a,{fontSize:"16px",value:function(){if(p)return Object(ae.f)(V,o.decimals);if(H){var e=new D.a(b).minus(V);return Object(ae.f)(e,o.decimals)}return Object(ae.f)(b,o.decimals)}(),decimals:0,unit:" ".concat(o.symbol)}),Object($.jsx)("span",{ref:Y,children:Object($.jsx)(B.U,{color:"textSubtle",width:"20px",ml:"4px"})})]}):Object($.jsx)(B.Ib,{width:"56px",height:"16px"}),Q&&W]})]});return Object($.jsxs)(Nn,{expanded:r,children:[Object($.jsxs)(Wn,{children:[oe,(g||y)&&be,(g||y||S)&&je,C&&le,Object($.jsx)(B.R,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object($.jsx)(B.db,{href:"https://pancakeswap.info/token/".concat(Object(K.a)(l.address)),bold:!1,children:O("See Token Info")})}),Object($.jsx)(B.R,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object($.jsx)(B.db,{href:l.projectLink,bold:!1,children:O("View Project Site")})}),m&&Object($.jsx)(B.R,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object($.jsx)(B.db,{href:"".concat(J.b,"/address/").concat(p?h:m),bold:!1,children:O("View Contract")})}),n&&I&&P&&Object($.jsx)(B.R,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object($.jsxs)(B.q,{variant:"text",p:"0",height:"auto",onClick:function(){return Object(re.a)(P,l.symbol,l.decimals,L)},children:[Object($.jsx)(B.Sb,{color:"primary",children:O("Add to Metamask")}),Object($.jsx)(B.nb,{ml:"4px"})]})}),p?Object($.jsx)(ce.c,{}):Object($.jsx)(ce.f,{}),ie&&ne,Object($.jsx)("span",{ref:te,children:Object($.jsx)(B.U,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object($.jsxs)(Yn,{children:[v&&Object($.jsx)(B.Sb,{mt:"4px",mb:"16px",color:"textSubtle",children:p?O("Automatic restaking"):"".concat(O("Earn")," FARM ").concat(O("Stake").toLocaleLowerCase()," FARM")}),Object($.jsx)(Un,Object(k.a)(Object(k.a)({},c),{},{userDataLoaded:a})),Object($.jsx)(En,{pool:c,userDataLoaded:a})]})]})},Xn=T.e.div(Jt||(Jt=Object(S.a)(["\n  background-color: transparent;\n  display: flex;\n  cursor: pointer;\n"]))),Gn=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(B.lc)(),r=a.isXs,s=a.isSm,i=a.isMd,o=a.isLg,l=a.isXl,b=Object(v.useState)(!1),j=Object(y.a)(b,2),d=j[0],u=j[1],x=Object(xn.a)(d,300),p=Object(U.c)().fees.performanceFee,O=p&&p/100;return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(Xn,{role:"row",onClick:function(){u((function(e){return!e}))},children:[Object($.jsx)(fn,{pool:t}),Object($.jsx)(yn,{pool:t,account:n,userDataLoaded:c}),Object($.jsx)(Tn,{pool:t,performanceFee:O}),(o||l)&&Object($.jsx)(Dn,{pool:t}),l&&Object($.jsx)(Bn,{pool:t}),Object($.jsx)(Pn,{expanded:d,isFullLayout:i||o||l})]}),x&&Object($.jsx)(Qn,{account:n,pool:t,userDataLoaded:c,expanded:d,breakpoints:{isXs:r,isSm:s,isMd:i,isLg:o,isXl:l}})]})},Jn=T.e.div(_t||(_t=Object(S.a)(["\n  border-radius: ",";\n\n  background-color: ",";\n  > div:not(:last-child) {\n    border-bottom: 2px solid ",";\n  }\n"])),(function(e){return e.theme.radii.card}),(function(e){return e.theme.card.background}),(function(e){return e.theme.colors.disabled})),_n=T.e.div(Kt||(Kt=Object(S.a)(["\n  border-radius: ",";\n  background-color: ",";\n  padding: 1px 1px 3px 1px;\n  background-size: 400% 400%;\n"])),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.cardBorder})),Kn=T.e.div($t||($t=Object(S.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]))),$n=function(e){var t=e.pools,n=e.userDataLoaded,c=e.account,a=Object(z.b)().t,r=Object(v.useRef)(null);return Object($.jsx)(_n,{children:Object($.jsxs)(Jn,{role:"table",ref:r,children:[t.map((function(e){return Object($.jsx)(Gn,{pool:e,account:c,userDataLoaded:n},e.isAutoVault?"auto-cake":e.sousId)})),Object($.jsx)(Kn,{children:Object($.jsxs)(B.q,{variant:"text",onClick:function(){r.current.scrollIntoView({behavior:"smooth"})},children:[a("To Top"),Object($.jsx)(B.I,{color:"primary"})]})})]})})},Zn=Object(T.e)(E.a)(Zt||(Zt=Object(S.a)(["\n  justify-content: center;\n"]))),ec=Object(T.e)(B.R)(en||(en=Object(S.a)(["\n  flex-direction: column;\n  margin-bottom: 24px;\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),tc=Object(T.e)(B.R)(tn||(tn=Object(S.a)(["\n  gap: 10px;\n  justify-content: space-between;\n"]))),nc=Object(T.e)(B.R)(nn||(nn=Object(S.a)(["\n  > div {\n    flex: 1;\n  }\n"])));t.default=function(){var e=Object(C.h)(),t=Object(z.b)().t,n=Object(A.c)().account,c=Object(U.R)(n),a=c.pools,r=c.userDataLoaded,s=Object(M.a)(!1,{localStorageKey:"pancake_pool_staked"}),i=Object(y.a)(s,2),o=i[0],l=i[1],b=Object(v.useState)(12),j=Object(y.a)(b,2),d=j[0],u=j[1],x=Object(v.useState)(!1),p=Object(y.a)(x,2),O=p[0],m=p[1],h=Object(v.useRef)(null),S=Object(M.a)(f.TABLE,{localStorageKey:"pancake_farm_view"}),w=Object(y.a)(S,2),T=w[0],R=w[1],F=Object(v.useState)(""),P=Object(y.a)(F,2),E=P[0],W=P[1],Q=Object(v.useState)("hot"),X=Object(y.a)(Q,2),G=X[0],J=X[1],_=Object(U.c)(),K=_.userData,Z=K.cakeAtLastUserAction,ee=K.userShares,te=_.fees.performanceFee,ne=_.pricePerFullShare,ce=_.totalCakeInVault,re=ee&&ee.gt(0),se=te&&te/100,ie=Object(v.useMemo)((function(){var e=a.find((function(e){return 0===e.sousId}));return[Object(k.a)(Object(k.a)({},e),{},{isAutoVault:!0})].concat(Object(g.a)(a))}),[a]),oe=Object(v.useMemo)((function(){return L()(ie,(function(e){return e.isFinished}))}),[ie]),le=Object(y.a)(oe,2),be=le[0],je=le[1],de=Object(v.useMemo)((function(){return be.filter((function(e){return e.isAutoVault?re:e.userData&&new D.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[be,re]),ue=Object(v.useMemo)((function(){return je.filter((function(e){return e.isAutoVault?re:e.userData&&new D.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[je,re]),xe=de.length>0;Object(U.Q)(),Object(U.g)(),Object(U.j)(),Object(v.useEffect)((function(){O||(new IntersectionObserver((function(e){Object(y.a)(e,1)[0].isIntersecting&&u((function(e){return e+12}))}),{rootMargin:"0px",threshold:1}).observe(h.current),m(!0))}),[O]);var pe=e.pathname.includes("history"),Oe=function(e){switch(G){case"apr":return I()(e,(function(e){return e.apr?function(e,t){var n=e.isAutoVault,c=e.earningTokenPrice,a=e.apr,r=Math.round(c/1e3)>0,s=r?4:2,i=n?288:1;if(n){var o=1e3/c,l=Object(rt.b)({numberOfDays:365,farmApr:a,tokenPrice:c,roundingDecimals:s,compoundFrequency:i,performanceFee:t});return{apr:Object(rt.a)({amountEarned:l,amountInvested:o}),isHighValueToken:r,roundingDecimals:s,compoundFrequency:i}}return{apr:a,isHighValueToken:r,roundingDecimals:s,compoundFrequency:i}}(e,se).apr:0}),"desc");case"earned":return I()(e,(function(e){return e.userData&&e.earningTokenPrice?e.isAutoVault?function(e,t,n,c,a){var r=e&&t&&t.gt(0)&&n&&n.gt(0),s=st(n,c).cakeAsBigNumber.minus(t),i=s.gte(0)?Object(ae.f)(s,18):0,o=s.times(a);return{hasAutoEarnings:r,autoCakeToDisplay:i,autoUsdToDisplay:o.gte(0)?Object(ae.f)(o,18):0}}(n,Z,ee,ne,e.earningTokenPrice).autoUsdToDisplay:e.userData.pendingReward.times(e.earningTokenPrice).toNumber():0}),"desc");case"totalStaked":return I()(e,(function(e){return e.isAutoVault?ce.toNumber():e.totalStaked.toNumber()}),"desc");default:return e}},me=function(){var e=[],t=[];if(e=pe?o?de:be:o?ue:je,E){var n=Object(V.a)(E.toLowerCase());e=e.filter((function(e){return Object(V.a)(e.earningToken.symbol.toLowerCase()).includes(n)}))}return Oe(e).slice(0,d).forEach((function(e,n){e.isAutoVault&&(t[n]=e)})),t},he=Object($.jsx)(Zn,{children:me().map((function(e){return e.isAutoVault?Object($.jsx)(yt,{pool:e,showStakedOnly:o},"auto-cake"):Object($.jsx)(tt,{pool:e,account:n},e.sousId)}))}),fe=Object($.jsx)($n,{pools:me(),account:n,userDataLoaded:r});return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(H.a,{children:Object($.jsxs)(B.R,{justifyContent:"space-between",flexDirection:["column",null,null,"row"],children:[Object($.jsxs)(B.R,{flex:"1",flexDirection:"column",mr:["8px",0],children:[Object($.jsx)(B.T,{as:"h1",scale:"xxl",color:"secondary",className:"head-light",mb:"24px",children:t("Auto Farms")}),Object($.jsx)(B.T,{scale:"md",color:"text",children:t("Just stake some tokens to earn.")}),Object($.jsx)(B.T,{scale:"md",color:"text",children:t("High APR, low risk.")})]}),Object($.jsxs)(B.R,{flex:"1",height:"fit-content",justifyContent:"center",alignItems:"center",mt:["24px",null,"0"],children:[Object($.jsx)(un,{}),Object($.jsx)(bn,{})]})]})}),Object($.jsxs)(q.a,{className:"backbg",children:[Object($.jsxs)(ec,{justifyContent:"space-between",children:[Object($.jsx)(rn,{stakedOnly:o,setStakedOnly:l,hasStakeInFinishedPools:xe,viewMode:T,setViewMode:R}),Object($.jsxs)(tc,{children:[Object($.jsxs)(B.R,{flexDirection:"column",width:"50%",children:[Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:t("Sort by")}),Object($.jsx)(nc,{children:Object($.jsx)(Y.a,{options:[{label:t("Hot"),value:"hot"},{label:t("APR"),value:"apr"},{label:t("Earned"),value:"earned"},{label:t("Total staked"),value:"totalStaked"}],onChange:function(e){J(e.value)}})})]}),Object($.jsxs)(B.R,{flexDirection:"column",width:"50%",children:[Object($.jsx)(B.Sb,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:t("Search")}),Object($.jsx)(nc,{children:Object($.jsx)(N.a,{onChange:function(e){W(e.target.value)},placeholder:"Search Pools"})})]})]})]}),pe&&Object($.jsx)(B.Sb,{fontSize:"20px",color:"failure",pb:"32px",children:t("These pools are no longer distributing rewards. Please unstake your tokens.")}),T===f.CARD?he:fe,Object($.jsx)("div",{ref:h}),Object($.jsx)(B.X,{mx:"auto",mt:"12px",src:"/images/decorations/3d-syrup-bunnies.png",alt:"Pancake illustration",width:460,height:100})]})]})}}}]);
//# sourceMappingURL=19.559be7c8.chunk.js.map